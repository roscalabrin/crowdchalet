<table class="tables group-table">
  <thead>
    <tr>
      <th>Potential Houses Ranked (combines all group members rankings)</th>
    </tr>
  </thead>
  <tbody>
    <% @searching_group.group_listings.rank.each do |listing| %>
      <tr>
        <td> 
          #<%= @counter %>  -
          <%= link_to listing.user_listing.name, listing.user_listing.url %>
        </td>
        <% @counter += 1 %>
          <!-- <%#= react_component('LikeListing', groupListingID: listing.id, initialIsUnLiked: listing.likes.where(user_id: current_user.id).empty?) %> -->
      </tr>
    <% end %>
  </tbody>
</table>

</br>
<div class="expander">
  <a href="javascript:void(0)" class="expander-trigger expander-hidden">Rank Potential Houses</a>
  <div class="expander-content">
    <table class="tables group-table">
      <thead>
        <tr>
          <th>Potential Houses</th>
          <th>Rank Location</th>
          <th>Rank Price</th>
        </tr>
      </thead>
      <tbody>
        <% current_user.find_rankings(@searching_group.id).each do |listing| %>
          <tr>
            <td> <%= listing.group_listing.user_listing.name %></td>
            <td>
              <select class="location-rank" data-user-ranking-id="<%= listing.id %>" data-initial-is-ok="<%= listing.location %>">>
                <option value="Orange">Great</option>
                <option value="Radish">Ok</option>
                <option value="Cherry">Meh</option>
            </select>
            </td>
            <td>
              <select class="price-rank" data-user-ranking-id="<%= listing.id %>" data-initial-is-ok="<%= listing.price %>">>
                <option value="Orange">Great</option>
                <option value="Radish">Ok</option>
                <option value="Cherry">Meh</option>
            </select>
            </td>
            <td> 
              <div class="like-listing" data-user-ranking-id="<%= listing.id %>" data-initial-is-unliked="<%= !listing.liked %>"></div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
</br>
<div class="expander">
  <a href="javascript:void(0)" class="expander-trigger expander-hidden">Add Houses to this Group</a>
  <div class="expander-content">
    <table class="tables">
      <thead>
        <tr>
          <th>My Saved Listings</th>
        </tr>
      </thead>
      <tbody>
        <% @current_user.saved_listings.each do |listing| %>
          <tr>
          <td> 
            <%= listing.name %>
          </td>
          <td> 
            <!-- <button name="button-add-to-group" class="add-to-group" value="<%= listing.name%>|<%#= listing.url%>|<%#=@searching_group.id %>">Add to Group</button> -->
      
            <div class="add-to-group" data-listing="<%= listing.name%>|<%= listing.url%>|<%=@searching_group.id %>" data-initial-is-not-added="<%= !@searching_group.listing_added?(listing.id) %>"></div>
          </td>
          </tr>
        <% end %>
      </tbody>
    </table>

  </div>
</div>


